var citiesFor = {
  "Alabama": [2364559],
  "Arizona": [2449808,2471390,2508428],
  "California": [2407517,2441472,2442047,2486340,2487889,2487956,2488042],
  "Colorado": [2383489,2391279],
  "Conneticut": [2458833],
  "Florida": [2428344,2450022,2466256,2503713,2503863],
  "Georgia": [2357024],
  "Hawaii": [2423945],
  "Illinois": [2379574],
  "Indiana": [2427032],
  "Kentucky": [2442327],
  "Louisiana": [2359991,2458833],
  "Maryland": [2358820],
  "Massachussets": [2367105],
  "Michigan": [2391585],
  "Minnesota": [2452078],
  "Mississippi": [2428184],
  "Missouri": [2430683,2486982],
  "Nebraska": [2465512],
  "Nevada": [2436704],
  "NewYork": [2459115],
  "NorthCarolina": [2378426,2414469,2478307],
  "Ohio": [2380358,2381475,2383660],
  "Oklahoma": [2464592],
  "Oregon": [2475687],
  "Pennsylvania": [2418046,2471217,2473224],
  "RhodeIsland": [2477058],
  "Tennessee": [2449323,2457170],
  "Texas": [2357536,2397816,2388929,2424766,2487796],
  "Utah": [2487610],
  "Virginia": [2460389,2480894,2512636],
  "Washington": [2490383],
  "Wisconsin": [2451822]


};

// fdsafdsafdsada
// fdsafdsaf
// This is the right file
var dataProviderVariable = {
    map: "usaLow",
    areas: [{
      id: "US-AL",
      // value: 4447100,
      infoTitle: "Alabama",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
    }, {
      id: "US-AK",
      infoTitle: "Alaska",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]

    }, {
      id: "US-AZ",
      // value: 5130632
      infoTitle: "Arizona",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
    }, {
      id: "US-AR",
      // value: 5130632
      infoTitle: "Arkansas",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
    }, {
      id: "US-CA",
      infoTitle: "California",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
    }, {
      id: "US-CO",
      // value: 4301261
          infoTitle: "Colorado",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
}, {
      id: "US-CT",
      // value: 3405565
          infoTitle: "Connecticut",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
}, {
      id: "US-DE",
      // value: 783600
         infoTitle: "Delaware",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
 }, {
      id: "US-FL",
      value: 15982378,
          infoTitle: "Florida",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
}, {
      id: "US-GA",
      value: 8186453,
         infoTitle: "Georgia",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
 }, {
      id: "US-HI",
      value: 1211537,
      infoTitle: "Hawaii",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
    }, {
      id: "US-ID",
      value: 1293953,
      infoTitle: "Idaho",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
    }, {
      id: "US-IL",
      value: 12419293,
      infoTitle: "Illinois",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
    }, {
      id: "US-IN",
      value: 6080485,
      infoTitle: "Indiana",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
    }, {
      id: "US-IA",
      value: 2926324,
      infoTitle: "Iowa",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
    }, {
      id: "US-KS",
      value: 2688418,
       infoTitle: "Kansas",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
   }, {
      id: "US-KY",
      value: 4041769,
         infoTitle: "Kentucky",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
 }, {
      id: "US-LA",
      value: 4468976,
        infoTitle: "Louisiana",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
  }, {
      id: "US-ME",
      value: 1274923,
        infoTitle: "Maine",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
  }, {
      id: "US-MD",
      value: 5296486,
         infoTitle: "Maryland",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
 }, {
      id: "US-MA",
      value: 6349097,
        infoTitle: "Massachussets",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
  }, {
      id: "US-MI",
      value: 9938444,
        infoTitle: "Michigan",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
  }, {
      id: "US-MN",
      value: 4919479,
        infoTitle: "Minnesota",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
  }, {
      id: "US-MS",
      value: 2844658,
         infoTitle: "Mississippi",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
 }, {
      id: "US-MO",
      value: 5595211,
         infoTitle: "Missouri",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
 }, {
      id: "US-MT",
      value: 902195,
       infoTitle: "Montana",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
   }, {
      id: "US-NE",
      value: 1711263,
        infoTitle: "Nebraska",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
  }, {
      id: "US-NV",
      value: 1998257,
         infoTitle: "Nevada",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
 }, {
      id: "US-NH",
      value: 1235786,
         infoTitle: "NewHampshire",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
 }, {
      id: "US-NJ",
      value: 8414350,
          infoTitle: "NewJersey",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
}, {
      id: "US-NM",
      value: 1819046,
         infoTitle: "NewMexico",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
 }, {
      id: "US-NY",
      value: 18976457,
        infoTitle: "NewYork",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
  }, {
      id: "US-NC",
      value: 8049313,
        infoTitle: "NorthCarolina",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
  }, {
      id: "US-ND",
      value: 642200,
        infoTitle: "NorthDakota",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
  }, {
      id: "US-OH",
      value: 11353140,
          infoTitle: "Ohio",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
}, {
      id: "US-OK",
      value: 3450654,
          infoTitle: "Oklahoma",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
}, {
      id: "US-OR",
      value: 3421399,
        infoTitle: "Oregon",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
  }, {
      id: "US-PA",
      value: 12281054,
         infoTitle: "Pennsylvania",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
 }, {
      id: "US-RI",
      value: 1048319,
         infoTitle: "RhodeIsland",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
 }, {
      id: "US-SC",
      value: 4012012,
        infoTitle: "SouthCarolina",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
  }, {
      id: "US-SD",
      value: 754844,
        infoTitle: "SouthDakota",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
  }, {
      id: "US-TN",
      value: 5689283,
         infoTitle: "Tennessee",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
 }, {
      id: "US-TX",
      value: 20851820,
       infoTitle: "Texas",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
   }, {
      id: "US-UT",
      value: 2233169,
        infoTitle: "Utah",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
  }, {
      id: "US-VT",
      value: 608827,
        infoTitle: "Vermont",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
  }, {
      id: "US-VA",
      value: 7078515,
         infoTitle: "Virginia",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
 }, {
      id: "US-WA",
      value: 5894121,
        infoTitle: "Washington",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
  }, {
      id: "US-WV",
      value: 1808344,
        infoTitle: "WestVirginia",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
  }, {
      id: "US-WI",
      value: 5363675,
       infoTitle: "Wisconsin",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
   }, {
      id: "US-WY",
      value: 493782,
       infoTitle: "Wyoming",
      infoContent: "This state, is definitely a state, there is no question that it is an actual state.",
      infoTable: [{
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }, {
        "rowLabel": "Label",
        "rowValue": "Label Info"
      }]
   }]
  };


var map = AmCharts.makeChart("chartdiv", {
  type: "map",
  "theme": "light",
  colorSteps: 0,

  dataProvider: dataProviderVariable,

  areasSettings: {
    selectable: true,
    balloonText: ""
  },

  zoomControl: {
    panControlEnabled: false,
    zoomControlEnabled: false,
    homeButtonEnabled: false,

    panEventsEnabled: false,

  },

  "export": {
    "enabled": true
  }

});




map.addListener("rollOverMapObject", function(event) {
  // console.log('1');
  var infoTableRows = event.mapObject.infoTable.reduce(function(currentValue, nextValue) {
    return currentValue + '<tr><td>' + nextValue.rowLabel + '</td><td>' + nextValue.rowValue + '</td></tr>';
  }, '');

  // document.getElementById('tempInfo').innerHTML = event.mapObject.infoTitle; // Changes with hovering
});
// map.addListener("clickMapObject", function(event){
//   stateName = event.mapObject.infoTitle;
//   woeIDs = citiesFor[stateName];
//   if(woeIDs == undefined){
//   $('#tempInfo').html(stateName); // Changes with clicking
//   console.log("State: " + stateName + '\n'
//               + "IDs: There are no IDs for the selected state.");
//     }
//   else{
//   console.log(stateName + '\'s IDs: ');
//   for(i in woeIDs){
//     cary(woeIDs[i]);
//     console.log(woeIDs[i]);
//     // console.log(cary(2364559));
//
//   }
map.addListener("clickMapObject", function(event){
  stateName = event.mapObject.infoTitle;
  woeIDs = citiesFor[stateName];
  if(woeIDs == undefined){
  $('#tempInfo').html(stateName); // Changes with clicking
  console.log("State: " + stateName + '\n'
              + "IDs: There are no IDs for the selected state.");
    }
  else{
  for(i in woeIDs){
    console.log(cary(woeIDs[i]));
    // console.log(cary(2364559));

  }
// cary(2358820);
}
});


function cary(cityName){
  $.ajax({
    //  type: 'GET',
     url: "/get/" + cityName,
     dataType: "jsonp"
   })
   .done(function(data) {

     console.log(data);
   });

 }
//    success: function(response) {
//      console.log(response);
//      // here you do whatever you want with the response variable
//    },
//    error: function(xhr,status,error){
//      console.log(xhr);
//      console.log(status);
//      console.log(error);
//    }
// })
